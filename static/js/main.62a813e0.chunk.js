(window.webpackJsonpunilingo=window.webpackJsonpunilingo||[]).push([[0],{36:function(e,t,n){e.exports=n(49)},41:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(18),i=n.n(r),c=(n(41),n(4)),s=n(5),l=n(7),u=n(6),p=n(8),d=n(16),m=n(14),h=n(12),v="https://www.googleapis.com/auth/youtube.readonly",y="",f=function(){window.gapi.client.init({apikey:"AIzaSyAXV81z9unGQBSNUy4RQTEwBrby9Ag5zZ4",client_id:"504244573923-rk36m2n05td1e3e7f0fh0fvca5ss9355.apps.googleusercontent.com",scope:v+" https://www.googleapis.com/auth/yt-analytics.readonly",fetch_basic_profile:!1}).then(function(){window.gapi.auth2.getAuthInstance().isSignedIn.listen()})},b=function(){return window.gapi.client.load("https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest").then(function(){console.log("GAPI client loaded for API")},function(e){console.error("Error loading GAPI client for API",e)})},g=function(){return window.gapi.client.load("https://youtubeanalytics.googleapis.com/$discovery/rest?version=v2")},E=function(){return function(e){return window.gapi.client.youtube.channels.list({part:"snippet,contentDetails,statistics",mine:!0}).then(function(t){y=t.result.items[0].contentDetails.relatedPlaylists.uploads,e({type:"FETCH_PLAYLIST_ID",payload:t.result.items[0].statistics})},function(e){console.error("Execute error",e)})}},w=function(){return function(e){return window.gapi.client.youtube.playlistItems.list({part:"snippet,contentDetails",playlistId:y}).then(function(t){e({type:"FETCH_VIDEOS",payload:t.result.items})},function(e){console.error("Execute error",e)})}},O=function(){return function(e){return window.gapi.client.youtubeAnalytics.reports.query({ids:"channel==MINE",startDate:"2019-01-01",endDate:"2019-12-31",metrics:"views,estimatedMinutesWatched,averageViewDuration,averageViewPercentage",dimensions:"day",sort:"day"}).then(function(t){e({type:"FETCH_ANALYTICS",payload:t.result})},function(e){console.error("Execute error",e)})}},I=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.gapi.load("client:auth2",f)}},{key:"render",value:function(){var e=this.props.login;return this.props.isAuthenticated?o.a.createElement(m.a,{to:"/"}):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("h2",null,"Sign in required to access the videos")),o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("button",{onClick:e,type:"button",className:"btn btn-outline-primary mx-auto"},"Sign In with Google")))}}]),t}(a.Component),j=Object(h.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{login:function(){return function(e){return window.gapi.auth2.getAuthInstance().signIn({scope:v+" https://www.googleapis.com/auth/yt-analytics.readonly",prompt:"select_account"}).then(function(){console.log("Sign-in successful"),e({type:"LOGIN_SUCCESS"})},function(t){console.error("Error signing in",t),e({type:"LOGIN_FAIL"})})}}})(I),A=n(24),N=n.n(A),C=n(29),V=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.channelInfo,t="";return e&&(t=o.a.createElement("ul",{className:"list-group list-group-horizontal"},o.a.createElement("li",{className:"list-group-item"},"Number of Subscribers: ".concat(e.subscriberCount)),o.a.createElement("li",{className:"list-group-item"},"Number of Vidoes: ".concat(e.videoCount)),o.a.createElement("li",{className:"list-group-item"},"Number of Views: ".concat(e.viewCount)))),o.a.createElement("div",{className:"row"},t)}}]),t}(a.Component),S=n(30),k=n.n(S),D=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onClickApprove=function(e){n.props.approveVideo(e.target.id)},n.onClickDisapprove=function(e){n.props.disapproveVideo(e.target.id)},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.video,n="";return n=e.approvedVideos.includes(t.snippet.resourceId.videoId)?o.a.createElement("button",{id:t.snippet.resourceId.videoId,onClick:this.onClickDisapprove,className:"btn btn-outline-danger"},"Disapprove"):o.a.createElement("button",{id:t.snippet.resourceId.videoId,onClick:this.onClickApprove,className:"btn btn-outline-success"},"Approve"),o.a.createElement("div",{key:t.snippet.resourceId.videoId,className:"card",style:{width:"18rem"}},o.a.createElement("iframe",{title:"youtube".concat(t.snippet.resourceId.videoId),className:"embed-responsive-item",src:"https://www.youtube.com/embed/".concat(t.snippet.resourceId.videoId),frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},t.snippet.title),o.a.createElement("p",{className:"card-text text-truncate"},t.snippet.description,o.a.createElement("small",{className:"text-muted"},k()(t.snippet.publishedAt).format("MMM DD, YYYY")))),o.a.createElement("div",{className:"card-footer"},n))}}]),t}(a.Component),P=Object(h.b)(function(e){return{approvedVideos:e.auth.approvedVideos}},{approveVideo:function(e){return function(t){t({type:"APPROVE_VIDEO",payload:e})}},disapproveVideo:function(e){return function(t){t({type:"DISAPPROVE_VIDEO",payload:e})}}})(D),_=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.videos,t="";return e&&e.length&&(t=e.map(function(e){return o.a.createElement(P,{key:e.snippet.resourceId.videoId,video:e})})),o.a.createElement("div",{className:"row"},t)}}]),t}(a.Component),L=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onClick=function(e){n.props.approvedVideos.length?alert("the following (".concat(n.props.approvedVideos.length,") videos are approved and submitted! ").concat(n.props.approvedVideos)):alert("Please approve videos!")},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(C.a)(N.a.mark(function e(){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.isAuthenticated&&(b().then(this.props.execute).then(this.props.getVideos),g().then(this.props.executeAnalytics));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.videos,n=e.isAuthenticated,a=e.playlistId;return n?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:this.props.signOut},"Sign Out")),o.a.createElement("div",{className:"row"},o.a.createElement("h5",null,"Channel Info")),o.a.createElement("div",{className:"row"},o.a.createElement(V,{channelInfo:a})),o.a.createElement("div",{className:"row"},o.a.createElement("h5",null,"Videos for Approval")),o.a.createElement("div",{className:"card-deck"},o.a.createElement("div",{className:"row"},o.a.createElement(_,{videos:t}))),o.a.createElement("div",{className:"row"},o.a.createElement("button",{type:"button",onClick:this.onClick,className:"btn btn-outline-primary"},"Submit"))):o.a.createElement(m.a,{to:"/login"})}}]),t}(a.Component),x=Object(h.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,videos:e.auth.videos,playlistId:e.auth.playlistId,approvedVideos:e.auth.approvedVideos}},{execute:E,executeAnalytics:O,getVideos:w,signOut:function(){return function(e){e({type:"LOGOUT_SUCCESS"})}}})(L),T=n(31),G=Object(h.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,n=e.auth,a=Object(T.a)(e,["component","auth"]);return o.a.createElement(m.b,Object.assign({},a,{render:function(e){return n.isLoading?o.a.createElement("div",{className:"spinner-border",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading...")):n.isAuthenticated?o.a.createElement(t,e):o.a.createElement(m.a,{to:"/login"})}}))}),F=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(m.d,null,o.a.createElement(m.b,{exact:!0,path:"/login",component:j}),o.a.createElement(G,{exact:!0,path:"/",component:x}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=n(15),Y=n(32),U=n(33),H=n(35),R=n(34);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(n,!0).forEach(function(t){Object(R.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var W={isAuthenticated:null,analytics:null,videos:[],approvedVideos:[],playlistId:null},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return z({},e,{isAuthenticated:!0});case"LOGIN_FAIL":return z({},e,{videos:[],analytics:null,channel:null,approvedVideos:[],playlistId:null});case"LOGOUT_SUCCESS":return z({},e,{videos:[],approvedVideos:[],playlistId:null,isAuthenticated:!1});case"FETCH_ANALYTICS":return z({},e,{analytics:t.payload});case"FETCH_VIDEOS":return z({},e,{videos:t.payload});case"FETCH_PLAYLIST_ID":return z({},e,{playlistId:t.payload});case"APPROVE_VIDEO":return z({},e,{approvedVideos:[].concat(Object(H.a)(e.approvedVideos),[t.payload])});case"DISAPPROVE_VIDEO":return z({},e,{approvedVideos:e.approvedVideos.filter(function(e){return t.payload!==e})});default:return e}},J=[U.a],Q=Object(M.combineReducers)({auth:q}),$=Object(M.createStore)(Q,Object(Y.composeWithDevTools)(M.applyMiddleware.apply(void 0,J)));i.a.render(o.a.createElement(h.a,{store:$},o.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.62a813e0.chunk.js.map